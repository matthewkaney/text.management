<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <style type="text/css">
      html, body {
        margin: 0;
        width: 100%;
        height: 100%;
      }

      canvas {
        display: block;
      }
    </style>
    <script src="https://unpkg.com/hydra-synth"></script>
    <script type="module">
      //import { getMessages } from "../../osc/osc.ts";

      window.addEventListener("message", ({data, ports}) => {
        if (data === "channel" && ports.length > 1) {
          console.log("attaching ports");
          let [port] = ports;

          port.addEventListener("message", ({data}) => {
            console.log("received message");
            console.log(data);
          });
        }
      });

      new Hydra({ detectAudio: false });
    </script>
  </head>
</html>
