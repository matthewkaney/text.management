<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <style type="text/css">
      html, body {
        margin: 0;
        width: 100%;
        height: 100%;
      }

      canvas {
        display: block;
      }
    </style>
    <script src="https://unpkg.com/hydra-synth"></script>
    <script>
      //import { getMessages } from "../../osc/osc.ts";

      window.addEventListener("message", ({data, ports}) => {
        if (data === "channel" && ports.length > 0) {
          let [port] = ports;

          port.addEventListener("message", ({data}) => {
            console.log("received message");
            
          });

          port.addEventListener("messageerror", event => {
            console.error(event);
          });

          port.start();
        }
      });

      new Hydra({ detectAudio: false });
    </script>
  </head>
</html>
